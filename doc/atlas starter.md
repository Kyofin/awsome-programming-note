# atlas starter

## 官方文档

[v2接口文档](http://atlas.apache.org/api/v2/index.html)

[v1文档](https://cwiki.apache.org/confluence/display/ATLAS/Atlas+REST+API)



## V2 REST接口测试

 curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/v2/search/attribute



## V1 REST接口测试

检查版本

```
curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/admin/version
```

查具体类型

```
curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/types
```

查所有类型

```
curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/types/hive_db
```

获取类型下所有实例的guid

```
curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/entities\?type\=hive_table
```

根据实例guid获取详情

```
curl -v -u admin:admin123 http://10.93.6.7:21000/api/atlas/entities/ff287dd3-fd6a-4a4e-acb2-721dac35654b
```



## AtlasClientV2使用

参考`org.apache.atlas.examples.QuickStartV2`



## kafka消息

### 执行hive的ctas语法

```
 create table a_t as select col1,col2 from t3;
```

队列`ATLAS_ENTITIES`会收到如下message	

```
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_process","attributes":{"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000","name":"create table a_t as select col1,col2 from t3"},"guid":"bc02f0ff-766e-4261-a17f-227550c65d8d","status":"ACTIVE","displayText":"create table a_t as select col1,col2 from t3"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_table","attributes":{"owner":"root","createTime":1601369839000,"qualifiedName":"hzk.a_t@qw_medical_test","name":"a_t"},"guid":"259612e9-95a3-4b60-83f3-e63cb8960593","status":"ACTIVE","displayText":"a_t"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column_lineage","attributes":{"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000:col1","name":"create table a_t as select col1,col2 from t3:col1"},"guid":"be112403-0830-458e-8094-45c413e67caf","status":"ACTIVE","displayText":"create table a_t as select col1,col2 from t3:col1"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.a_t.col1@qw_medical_test","name":"col1"},"guid":"db5a4f00-d04a-4776-a09f-f4538d0c59cf","status":"ACTIVE","displayText":"col1"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column_lineage","attributes":{"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000:col2","name":"create table a_t as select col1,col2 from t3:col2"},"guid":"d4df2999-5a36-4101-97dc-2c2693cd6955","status":"ACTIVE","displayText":"create table a_t as select col1,col2 from t3:col2"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.a_t.col2@qw_medical_test","name":"col2"},"guid":"7142f56b-dc55-49a9-94e4-a50647a6d2d7","status":"ACTIVE","displayText":"col2"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_storagedesc","attributes":{"qualifiedName":"hzk.a_t@qw_medical_test_storage"},"guid":"6749000b-2083-4c03-a86a-e4bbacedd740","status":"ACTIVE","displayText":"hzk.a_t@qw_medical_test_storage"},"operationType":"ENTITY_CREATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_table","attributes":{"owner":"root","createTime":1600935511000,"qualifiedName":"hzk.t3@qw_medical_test","name":"t3"},"guid":"259c2dff-def1-4bfc-87cc-536d0196840a","status":"ACTIVE","displayText":"t3"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843940,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col1@qw_medical_test","name":"col1"},"guid":"8f0fab35-89ca-4e3d-be80-7434fd32e1f6","status":"ACTIVE","displayText":"col1"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col2@qw_medical_test","name":"col2"},"guid":"ec132f08-827a-4a28-b484-2ec93b8a2951","status":"ACTIVE","displayText":"col2"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col3@qw_medical_test","name":"col3"},"guid":"c219e245-c446-413f-b26f-1b2bb92f9fea","status":"ACTIVE","displayText":"col3"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col4@qw_medical_test","name":"col4"},"guid":"1eba2819-b97c-4106-ae99-7e82015b4931","status":"ACTIVE","displayText":"col4"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col5@qw_medical_test","name":"col5"},"guid":"e6bd6340-0224-4007-b1e9-90e35635c0fe","status":"ACTIVE","displayText":"col5"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col6@qw_medical_test","name":"col6"},"guid":"f16bade9-1e5d-4658-8848-dfaf64bb8bc6","status":"ACTIVE","displayText":"col6"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col7@qw_medical_test","name":"col7"},"guid":"7be2835c-7bdd-493f-bf3e-9647631aaf33","status":"ACTIVE","displayText":"col7"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col10@qw_medical_test","name":"col10"},"guid":"714ef4cd-6e3b-4c84-9c34-2501d3db4623","status":"ACTIVE","displayText":"col10"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col11@qw_medical_test","name":"col11"},"guid":"6d346093-d5bd-43d2-ab97-c3b33d9f464b","status":"ACTIVE","displayText":"col11"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col12@qw_medical_test","name":"col12"},"guid":"6eaec8a9-91dd-44f1-97fe-b9759572d4ad","status":"ACTIVE","displayText":"col12"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_storagedesc","attributes":{"qualifiedName":"hzk.t3@qw_medical_test_storage"},"guid":"44d1428d-3677-476e-8159-7d8ea10c0462","status":"ACTIVE","displayText":"hzk.t3@qw_medical_test_storage"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"","msgCreationTime":1601369843943,"message":{"type":"ENTITY_NOTIFICATION_V2","entity":{"typeName":"hive_db","attributes":{"owner":"root","qualifiedName":"hzk@qw_medical_test","clusterName":"qw_medical_test","name":"hzk"},"guid":"c337ef86-3faa-447c-a5db-b99aa83e6fd8","status":"ACTIVE","displayText":"hzk"},"operationType":"ENTITY_UPDATE","eventTime":1601369840000}}
```



队列ATLAS_HOOK

```
{"version":{"version":"1.0.0","versionParts":[1]},"msgCompressionKind":"NONE","msgSplitIdx":1,"msgSplitCount":1,"msgSourceIP":"10.93.6.7","msgCreatedBy":"hive","msgCreationTime":1601369839988,"message":{"type":"ENTITY_CREATE_V2","user":"root","entities":{"referredEntities":{"-2466689738290905":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col1@qw_medical_test","name":"col1","comment":null,"position":0,"type":"tinyint","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290905","version":0,"proxy":false},"-2466689738290916":{"typeName":"hive_storagedesc","attributes":{"qualifiedName":"hzk.a_t@qw_medical_test_storage","storedAsSubDirectories":false,"location":"hdfs://qwhadoop/warehouse/tablespace/managed/hive/hzk.db/a_t","compressed":false,"inputFormat":"org.apache.hadoop.hive.ql.io.orc.OrcInputFormat","parameters":{},"outputFormat":"org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat","table":{"guid":"-2466689738290915","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test"}},"serdeInfo":{"typeName":"hive_serde","attributes":{"serializationLib":"org.apache.hadoop.hive.ql.io.orc.OrcSerde","name":null,"parameters":{"serialization.format":"1"}}},"numBuckets":-1},"guid":"-2466689738290916","version":0,"proxy":false},"-2466689738290904":{"typeName":"hive_storagedesc","attributes":{"qualifiedName":"hzk.t3@qw_medical_test_storage","storedAsSubDirectories":false,"location":"hdfs://qwhadoop/warehouse/tablespace/managed/hive/hzk.db/t3","compressed":false,"inputFormat":"org.apache.hadoop.hive.ql.io.orc.OrcInputFormat","parameters":{},"outputFormat":"org.apache.hadoop.hive.ql.io.orc.OrcOutputFormat","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}},"serdeInfo":{"typeName":"hive_serde","attributes":{"serializationLib":"org.apache.hadoop.hive.ql.io.orc.OrcSerde","name":null,"parameters":{"serialization.format":"1"}}},"numBuckets":-1},"guid":"-2466689738290904","version":0,"proxy":false},"-2466689738290915":{"typeName":"hive_table","attributes":{"owner":"root","temporary":false,"lastAccessTime":1601369839000,"qualifiedName":"hzk.a_t@qw_medical_test","columns":[{"guid":"-2466689738290917","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.a_t.col1@qw_medical_test"}},{"guid":"-2466689738290918","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.a_t.col2@qw_medical_test"}}],"tableType":"MANAGED_TABLE","sd":{"guid":"-2466689738290916","typeName":"hive_storagedesc","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test_storage"}},"createTime":1601369839000,"name":"a_t","comment":null,"partitionKeys":[],"parameters":{"totalSize":"0","numRows":"0","rawDataSize":"0","COLUMN_STATS_ACCURATE":"{\"BASIC_STATS\":\"true\"}","numFiles":"0","transient_lastDdlTime":"1601369839","bucketing_version":"2"},"db":{"guid":"-2466689738290902","typeName":"hive_db","uniqueAttributes":{"qualifiedName":"hzk@qw_medical_test"}},"retention":0},"guid":"-2466689738290915","version":0,"proxy":false},"-2466689738290907":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col3@qw_medical_test","name":"col3","comment":null,"position":2,"type":"int","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290907","version":0,"proxy":false},"-2466689738290918":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.a_t.col2@qw_medical_test","name":"col2","comment":null,"position":1,"type":"smallint","table":{"guid":"-2466689738290915","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test"}}},"guid":"-2466689738290918","version":0,"proxy":false},"-2466689738290906":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col2@qw_medical_test","name":"col2","comment":null,"position":1,"type":"smallint","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290906","version":0,"proxy":false},"-2466689738290917":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.a_t.col1@qw_medical_test","name":"col1","comment":null,"position":0,"type":"tinyint","table":{"guid":"-2466689738290915","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test"}}},"guid":"-2466689738290917","version":0,"proxy":false},"-2466689738290909":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col5@qw_medical_test","name":"col5","comment":null,"position":4,"type":"float","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290909","version":0,"proxy":false},"-2466689738290908":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col4@qw_medical_test","name":"col4","comment":null,"position":3,"type":"bigint","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290908","version":0,"proxy":false},"-2466689738290910":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col6@qw_medical_test","name":"col6","comment":null,"position":5,"type":"double","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290910","version":0,"proxy":false},"-2466689738290912":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col10@qw_medical_test","name":"col10","comment":null,"position":7,"type":"boolean","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290912","version":0,"proxy":false},"-2466689738290911":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col7@qw_medical_test","name":"col7","comment":null,"position":6,"type":"string","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290911","version":0,"proxy":false},"-2466689738290914":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col12@qw_medical_test","name":"col12","comment":null,"position":9,"type":"timestamp","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290914","version":0,"proxy":false},"-2466689738290903":{"typeName":"hive_table","attributes":{"owner":"root","temporary":false,"lastAccessTime":1600935511000,"qualifiedName":"hzk.t3@qw_medical_test","columns":[{"guid":"-2466689738290905","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col1@qw_medical_test"}},{"guid":"-2466689738290906","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col2@qw_medical_test"}},{"guid":"-2466689738290907","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col3@qw_medical_test"}},{"guid":"-2466689738290908","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col4@qw_medical_test"}},{"guid":"-2466689738290909","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col5@qw_medical_test"}},{"guid":"-2466689738290910","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col6@qw_medical_test"}},{"guid":"-2466689738290911","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col7@qw_medical_test"}},{"guid":"-2466689738290912","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col10@qw_medical_test"}},{"guid":"-2466689738290913","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col11@qw_medical_test"}},{"guid":"-2466689738290914","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col12@qw_medical_test"}}],"tableType":"MANAGED_TABLE","sd":{"guid":"-2466689738290904","typeName":"hive_storagedesc","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test_storage"}},"createTime":1600935511000,"name":"t3","comment":null,"partitionKeys":[],"parameters":{"totalSize":"0","numRows":"0","rawDataSize":"0","COLUMN_STATS_ACCURATE":"{\"BASIC_STATS\":\"true\",\"COLUMN_STATS\":{\"col1\":\"true\",\"col10\":\"true\",\"col11\":\"true\",\"col12\":\"true\",\"col2\":\"true\",\"col3\":\"true\",\"col4\":\"true\",\"col5\":\"true\",\"col6\":\"true\",\"col7\":\"true\"}}","numFiles":"0","transient_lastDdlTime":"1600935511","bucketing_version":"2"},"db":{"guid":"-2466689738290902","typeName":"hive_db","uniqueAttributes":{"qualifiedName":"hzk@qw_medical_test"}},"retention":0},"guid":"-2466689738290903","version":0,"proxy":false},"-2466689738290902":{"typeName":"hive_db","attributes":{"owner":"root","ownerType":"USER","qualifiedName":"hzk@qw_medical_test","clusterName":"qw_medical_test","name":"hzk","description":null,"location":"hdfs://qwhadoop/warehouse/tablespace/managed/hive/hzk.db","parameters":{}},"guid":"-2466689738290902","version":0,"proxy":false},"-2466689738290913":{"typeName":"hive_column","attributes":{"owner":"root","qualifiedName":"hzk.t3.col11@qw_medical_test","name":"col11","comment":null,"position":8,"type":"date","table":{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}},"guid":"-2466689738290913","version":0,"proxy":false}},"entities":[{"typeName":"hive_process","attributes":{"outputs":[{"guid":"-2466689738290915","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test"}}],"recentQueries":["create table a_t as select col1,col2 from t3"],"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000","inputs":[{"guid":"-2466689738290903","typeName":"hive_table","uniqueAttributes":{"qualifiedName":"hzk.t3@qw_medical_test"}}],"name":"create table a_t as select col1,col2 from t3","queryText":"create table a_t as select col1,col2 from t3","operationType":"CREATETABLE_AS_SELECT","startTime":1601369835368,"queryPlan":"Not Supported","endTime":1601369839987,"userName":"root","queryId":"hive_20200929165715_0a90c6cc-ce52-4706-9f86-ee552a0194b6"},"guid":"-2466689738290919","version":0,"proxy":false},{"typeName":"hive_column_lineage","attributes":{"outputs":[{"guid":"-2466689738290917","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.a_t.col1@qw_medical_test"}}],"expression":null,"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000:col1","inputs":[{"guid":"-2466689738290905","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col1@qw_medical_test"}}],"query":{"guid":"-2466689738290919","typeName":"hive_process","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000"}},"name":"create table a_t as select col1,col2 from t3:col1","depenendencyType":"SIMPLE"},"guid":"-2466689738290920","version":0,"proxy":false},{"typeName":"hive_column_lineage","attributes":{"outputs":[{"guid":"-2466689738290918","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.a_t.col2@qw_medical_test"}}],"expression":null,"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000:col2","inputs":[{"guid":"-2466689738290906","typeName":"hive_column","uniqueAttributes":{"qualifiedName":"hzk.t3.col2@qw_medical_test"}}],"query":{"guid":"-2466689738290919","typeName":"hive_process","uniqueAttributes":{"qualifiedName":"hzk.a_t@qw_medical_test:1601369839000"}},"name":"create table a_t as select col1,col2 from t3:col2","depenendencyType":"SIMPLE"},"guid":"-2466689738290921","version":0,"proxy":false}]}}}
```





## 疑问

每执行一次同一个mysql表到hive表的sqoop程序都有一个新节点吗

spark可以集成吗？